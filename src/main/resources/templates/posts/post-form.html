<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Add Post</title>

    <!-- Bootstrap core CSS -->
    <link th:href="@{/css/bootstrap/bootstrap.min.css}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link th:href="@{css/blog-home.css}" rel="stylesheet">

</head>

<body>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="#">Blog Application</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/">All Posts
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item" sec:authorize="!isAuthenticated()">
                    <a class="nav-link" th:href="@{/signup}">Sign Up</a>
                </li>
                <!-- show login only if user is not yet authenticated -->
                <li class="nav-item" sec:authorize="!isAuthenticated()">
                    <a class="nav-link" th:href="@{/login}">Login</a>
                </li>
                <!-- show My Blog only if user is authenticated -->
                <li class="nav-item" sec:authorize="hasRole('AUTHOR')">
                    <a class="nav-link" th:href="@{/home}">My Blog</a>
                </li>
                <!-- show new post only if user is authenticated -->
                <li class="nav-item" sec:authorize="hasRole('AUTHOR')">
                    <a class="nav-link" th:href="@{/newpost}">New Post</a>
                </li>
                <!-- show sign out only if user is authenticated -->
                <ul class="nav-item" sec:authorize="isAuthenticated()">
                    <a class="nav-link" th:href="@{/logout}">Sign Out</a>
                </ul>
            </ul>
        </div>
    </div>
</nav>

<!-- Page Content -->
<div class="container">

    <div class="row">

        <!-- Blog Entries Column -->
        <div class="col-md-12">

            <h1 class="my-4">Blog Post
                <small>Secondary Text</small>
            </h1>

            <!-- Blog Post -->
            <div class="mb-4" >

                <!--New Post Form-->
                <div class="row" style="margin-top:20px">
                    <div class="col-xs-12 col-sm-8 col-md-12 col-sm-offset-2 col-md-offset-3">
                        <form autocomplete="off" action="#" th:action="@{/savepost}"
                              th:object="${post}" method="post" class="form-horizontal"
                              role="form">

                            <h2 class="text-center">Write new post</h2>

                            <input type="hidden" th:field="*{id}" />
                            <input type="hidden" th:field="*{createdAt}" />
                            <input type="hidden" th:field="*{publishedAt}" />
                            <input type="hidden" th:field="*{updatedAt}" />

                            <div class="form-group">
                                <label>Title</label>
                                <input type="text" th:field="*{title}" placeholder="Title"
                                       class="form-control input-lg"/>
                            </div>

                            <div class="form-group">
                                <label>Excerpt</label>
                                <textarea th:field="*{excerpt}" placeholder="Excerpt"
                                          class="form-control input-lg"/>
                            </div>

                            <div class="form-group">
                                <label>context</label>
                                <textarea rows="10" th:field="*{context}" placeholder="Context"
                                          class="form-control input-lg"/>
                            </div>

                            <div class="form-group">
                                <label>Author</label>
                                <input type="text" th:field="*{author}" placeholder="Author"
                                       class="form-control input-lg"/>
                            </div>

                            <div class="form-group">
                                <label>Tags</label>
                                <input type="text" th:field="*{tagsInString}" placeholder="Tags"
                                       class="form-control input-lg"/>
                            </div>

                            <div class="form-group">
                                <input type="submit" class="btn btn-primary btn-block" value="Save"/>
                            </div>

                        </form>
                    </div>
                </div>
            </div>


        </div>

    </div>
</div>

<!-- Footer -->
<footer class="py-5 bg-dark">
    <div class="container">
       
    </div>
    <!-- /.container -->
</footer>

<!-- Bootstrap core JavaScript -->
<script th:src="@{/jquery/bootstrap/jquery.min.js}"></script>
<script th:src="@{/js/bootstrap/bootstrap.bundle.min.js}"></script>


</body>
</html>